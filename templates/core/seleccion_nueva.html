{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4"><i class="bi bi-building"></i> Seleccione su Empresa</h2>
    
    <div class="row justify-content-center">
        {% for company in companies %}
        <div class="col-md-4 mb-3">
            <form method="POST" class="h-100">
                {% csrf_token %}
                <input type="hidden" name="company_id" value="{{ company.id }}">
                
                <button type="submit" class="card h-100 w-100 shadow-sm btn btn-light text-start p-0 border-0">
                    <div class="card-body text-center">
                        {% if company.logo %}
                            <img src="{{ company.logo.url }}" style="max-height: 80px; max-width: 100%;" class="mb-3">
                        {% else %}
                            <i class="bi bi-briefcase fs-1 text-secondary d-block mb-3"></i>
                        {% endif %}
                        <h5 class="card-title fw-bold text-primary">{{ company.name }}</h5>
                        <p class="card-text text-muted small">NIT: {{ company.nit }}</p>
                    </div>
                    <div class="card-footer bg-primary text-white text-center w-100">
                        Ingresar <i class="bi bi-arrow-right"></i>
                    </div>
                </button>
            </form>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <div class="alert alert-warning">
                No tiene empresas asignadas. Contacte al administrador.
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}